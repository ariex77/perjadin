import{r as j,j as e}from"./app-2aN5fFIm.js";import{a as c,B as m}from"./button-BItv0zFD.js";import{C as v,a as g,b,c as C,d as N}from"./command-BR0mfrEc.js";import{P as w,a as y,b as k}from"./popover-CFbJ8920.js";import{B as P}from"./badge-eJlqMNco.js";import{X as B,n as D}from"./app-layout-DB0FO4Gy.js";import{C as E}from"./check-DKsR-Bc2.js";function A({value:r,onChange:l,options:t,placeholder:d="Pilih opsi...",className:u,disabled:f=!1}){const[o,p]=j.useState(!1),n=t.filter(s=>r.includes(s.value)),x=s=>{r.includes(s)?l(r.filter(a=>a!==s)):l([...r,s])},i=s=>{l(r.filter(a=>a!==s))},h=()=>{l([])};return e.jsx("div",{className:c("relative",u),children:e.jsxs(w,{open:o,onOpenChange:p,children:[e.jsx(y,{asChild:!0,children:e.jsxs(m,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-full justify-between min-h-[40px] h-auto",disabled:f,children:[e.jsx("div",{className:"flex flex-wrap gap-1 flex-1",children:n.length>0?n.map(s=>e.jsxs(P,{variant:"secondary",className:"mr-1 mb-1",children:[s.label,e.jsx("button",{type:"button",className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:a=>{a.key==="Enter"&&i(s.value)},onMouseDown:a=>{a.preventDefault(),a.stopPropagation()},onClick:()=>i(s.value),children:e.jsx(B,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},s.value)):e.jsx("span",{className:"text-muted-foreground",children:d})}),e.jsx(D,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(k,{className:"w-full p-0",align:"start",children:e.jsxs(v,{children:[e.jsx(g,{placeholder:"Cari..."}),e.jsx(b,{children:"Tidak ada opsi ditemukan."}),e.jsx(C,{className:"max-h-64 overflow-auto",children:t.map(s=>e.jsxs(N,{onSelect:()=>x(s.value),children:[e.jsx(E,{className:c("mr-2 h-4 w-4",r.includes(s.value)?"opacity-100":"opacity-0")}),s.label]},s.value))}),n.length>0&&e.jsx("div",{className:"border-t p-2",children:e.jsx(m,{type:"button",variant:"ghost",size:"sm",onClick:h,className:"w-full justify-center",children:"Hapus Semua"})})]})})]})})}export{A as M};
