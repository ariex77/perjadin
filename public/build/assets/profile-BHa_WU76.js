import{a as C,r as F,u as _,j as e,H as I,L as A,b as S,t as L}from"./app-DcC59gM4.js";import{S as q,H as u}from"./layout-DdcLjutJ.js";import{I as t}from"./input-error-C6nxwA3J.js";import{B as h}from"./button-CpjRaYVo.js";import{I as m}from"./input-B_FIGcdk.js";import{L as o}from"./label-DnZ7SDYy.js";import{C as H}from"./combobox-Bbq5Jssc.js";import{I as E}from"./image-upload-DNTbj_mr.js";import{S as T}from"./separator-DyCgdMap.js";import{T as w}from"./textarea-CIYggA85.js";import{A as D}from"./app-layout-md0N9P8I.js";/* empty css            */import"./index-CAOgDV9q.js";import"./command-BSOzza0P.js";import"./search-CFhtlakL.js";import"./popover-QUURE3mk.js";import"./index-CcsY0bVV.js";import"./check-CoDZEjDS.js";import"./card-B1wzXt6A.js";import"./input-error-CwjUQo6T.js";import"./upload-XjPs63n1.js";import"./users-DLXe7dN4.js";const K=[{title:"Pengaturan Profil",href:"/settings/profile"}];function te({user:i,mustVerifyEmail:g,status:x}){const{auth:v,errors:n}=C().props,[c,p]=F.useState(!1),{data:a,setData:l,reset:j}=_({name:i.name||"",email:i.email||"",username:i.username||"",nip:i.nip||"",number_phone:i.number_phone||"",level:i.level||"",gender:i.gender||"Male",photo:null,address:i.address?.address||"",city:i.address?.city||"",province:i.address?.province||""});function f(r){l("photo",r)}function b(r){r.preventDefault();const s=new FormData;s.append("_method","patch"),s.append("name",a.name||""),s.append("email",a.email||""),s.append("username",a.username||""),s.append("nip",a.nip||""),s.append("number_phone",a.number_phone||""),s.append("level",a.level||""),s.append("gender",a.gender||""),s.append("address",a.address||""),s.append("city",a.city||""),s.append("province",a.province||""),a.photo&&typeof a.photo!="string"&&s.append("photo",a.photo);const k=new Promise((d,P)=>{p(!0),S.post(route("profile.update"),s,{onSuccess:()=>{d({name:"Profil"}),p(!1)},onError:y=>{P(y?.error||"Profil gagal diperbarui!"),p(!1)},onFinish:()=>{p(!1)}})});L.promise(k,{loading:"Memproses..",success:d=>`${d.name} berhasil diperbarui.`,error:d=>String(d)})}const N=()=>{j()};return e.jsxs(D,{breadcrumbs:K,children:[e.jsx(I,{title:"Pengaturan Profil"}),e.jsx(q,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(u,{title:"Informasi Profil",description:"Perbarui informasi profil lengkap Anda"}),e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(E,{value:a.photo,onChange:f,placeholder:"Pilih foto atau ",error:n.photo,aspectRatio:"rounded",existingImage:i.photo})}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Nama"}),e.jsx(m,{id:"name",className:"mt-1 block w-full",value:a.name,onChange:r=>l("name",r.target.value),required:!0,autoComplete:"name",placeholder:"Nama lengkap"}),e.jsx(t,{className:"mt-2",message:n.name})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",children:"Alamat Email"}),e.jsx(m,{id:"email",type:"email",className:"mt-1 block w-full",value:a.email,onChange:r=>l("email",r.target.value),required:!0,autoComplete:"username",placeholder:"Alamat email"}),e.jsx(t,{className:"mt-2",message:n.email})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"username",children:"Username"}),e.jsx(m,{id:"username",value:a.username||"",onChange:r=>l("username",r.target.value),placeholder:"Username",required:!0}),e.jsx(t,{className:"mt-2",message:n.username})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"nip",children:"NIP"}),e.jsx(m,{id:"nip",type:"number",value:a.nip||"",onChange:r=>l("nip",r.target.value),placeholder:"NIP",required:!0}),e.jsx(t,{className:"mt-2",message:n.nip})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"number_phone",children:"No. HP"}),e.jsx(m,{id:"number_phone",type:"number",value:a.number_phone||"",onChange:r=>l("number_phone",r.target.value),placeholder:"No. HP",required:!0}),e.jsx(t,{className:"mt-2",message:n.number_phone})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"level",children:"Pangkat/Golongan"}),e.jsx(m,{id:"level",value:a.level||"",onChange:r=>l("level",r.target.value),placeholder:"Pangkat/Golongan",required:!0}),e.jsx(t,{className:"mt-2",message:n.level})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"gender",children:"Jenis Kelamin"}),e.jsx(H,{options:[{value:"Male",label:"Laki-laki"},{value:"Female",label:"Perempuan"}],value:a.gender,onValueChange:r=>l("gender",r),placeholder:"Pilih jenis kelamin",searchPlaceholder:"Cari jenis kelamin...",emptyText:"Tidak ada jenis kelamin ditemukan."}),e.jsx(t,{className:"mt-2",message:n.gender})]})]}),e.jsx(T,{className:"my-6"}),e.jsx(u,{title:"Informasi Alamat",description:"Perbarui informasi alamat Anda"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"city",children:"Kota"}),e.jsx(m,{id:"city",value:a.city||"",onChange:r=>l("city",r.target.value),placeholder:"Kota"}),e.jsx(t,{className:"mt-2",message:n.city})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"province",children:"Provinsi"}),e.jsx(m,{id:"province",value:a.province||"",onChange:r=>l("province",r.target.value),placeholder:"Provinsi"}),e.jsx(t,{className:"mt-2",message:n.province})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"address",children:"Alamat Lengkap"}),e.jsx(w,{id:"address",value:a.address||"",onChange:r=>l("address",r.target.value),placeholder:"Alamat lengkap"}),e.jsx(t,{className:"mt-2",message:n.address})]})]}),g&&v.user.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Alamat email Anda belum terverifikasi."," ",e.jsx(A,{href:route("verification.send"),method:"post",as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Klik di sini untuk mengirim ulang email verifikasi."})]}),x==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Tautan verifikasi baru telah dikirim ke alamat email Anda."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{type:"button",variant:"outline",onClick:N,disabled:c,children:"Reset"}),e.jsx(h,{disabled:c,children:c?"Memproses...":"Simpan"})]})]})]})})]})}export{te as default};
