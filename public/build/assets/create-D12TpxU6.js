import{u as k,r as p,j as e,t as M}from"./app-2aN5fFIm.js";import{A as C}from"./app-layout-DB0FO4Gy.js";import{P as S}from"./page-header-BuPDwsye.js";import{B as c}from"./button-BItv0zFD.js";import{I as T}from"./input-UpUYnzU4.js";import{L as i}from"./label-BH8P7zAC.js";import{T as E}from"./textarea-CciHhig-.js";import{D as g}from"./date-picker-DF9xSYJ6.js";import{M as F}from"./multiselect-CSDTn1Ha.js";import{I as o}from"./input-error-CkgwgHgP.js";import{f as h}from"./format-Ca1hgyLe.js";/* empty css            */import"./index-CqrHCE41.js";import"./index--YxB8gKp.js";import"./users-DL2eMeY0.js";import"./chevron-left-CxbVlA3U.js";import"./chevron-down-aBmeQNG4.js";import"./popover-CFbJ8920.js";import"./calendar-my65S406.js";import"./command-BR0mfrEc.js";import"./search-CANJZ9BR.js";import"./badge-eJlqMNco.js";import"./check-DKsR-Bc2.js";const A=[{title:"Dasbor",href:"/dashboard"},{title:"Penugasan",href:"/assignments"},{title:"Tambah Penugasan",href:"/assignments/create"}];function re({users:x}){const{data:s,setData:t,post:f,processing:l,errors:r,reset:d}=k({purpose:"",destination:"",start_date:"",end_date:"",user_ids:[]}),[j,m]=p.useState(s.start_date?new Date(s.start_date):void 0),[v,u]=p.useState(s.end_date?new Date(s.end_date):void 0),N=a=>{m(a),t("start_date",a?h(a,"yyyy-MM-dd"):"")},b=a=>{u(a),t("end_date",a?h(a,"yyyy-MM-dd"):"")};function y(a){a.preventDefault();const P=new Promise((n,w)=>{f(route("assignments.store"),{onSuccess:()=>{n({name:"Penugasan"}),d()},onError:D=>{w(D?.error||"Penugasan gagal dibuat!")}})});M.promise(P,{loading:"Memproses..",success:n=>`${n.name} berhasil dibuat.`,error:n=>String(n)})}const _=()=>{d(),m(void 0),u(void 0)};return e.jsx(C,{breadcrumbs:A,children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx(S,{title:"Tambah Penugasan",subtitle:"Buat penugasan dinas baru untuk pegawai"}),e.jsx("div",{className:"max-w-lg",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"purpose",children:"Tujuan Penugasan"}),e.jsx(E,{id:"purpose",value:s.purpose,onChange:a=>t("purpose",a.target.value),placeholder:"Jelaskan tujuan dan maksud penugasan dinas",rows:3,required:!0}),e.jsx(o,{message:r.purpose,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"destination",children:"Tujuan (Lokasi/Tempat)"}),e.jsx(T,{id:"destination",value:s.destination,onChange:a=>t("destination",a.target.value),placeholder:"Masukkan tujuan (lokasi/tempat) penugasan",required:!0}),e.jsx(o,{message:r.destination,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"start_date",children:"Tanggal Mulai"}),e.jsx(g,{value:j,onChange:N,placeholder:"Pilih tanggal mulai",className:"w-full"}),e.jsx(o,{message:r.start_date,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"end_date",children:"Tanggal Selesai"}),e.jsx(g,{value:v,onChange:b,placeholder:"Pilih tanggal selesai",className:"w-full"}),e.jsx(o,{message:r.end_date,className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"user_ids",children:"Pegawai"}),e.jsx(F,{value:s.user_ids,onChange:a=>t("user_ids",a),options:x,placeholder:"Pilih pegawai...",className:"w-full"}),e.jsx(o,{message:r.user_ids,className:"mt-1"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pilih satu atau lebih pegawai untuk ditugaskan"})]}),e.jsxs("div",{className:"flex flex-col gap-3 pt-4 sm:flex-row",children:[e.jsx(c,{type:"button",variant:"outline",onClick:_,className:"flex-1 bg-transparent sm:flex-none",disabled:l,children:"Reset"}),e.jsx(c,{type:"submit",disabled:l,className:"flex-1 sm:flex-none",children:l?"Memproses...":"Simpan Penugasan"})]})]})})]})})}export{re as default};
