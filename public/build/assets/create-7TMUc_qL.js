import{u as k,r as p,j as e,t as M}from"./app-DcC59gM4.js";import{A as C}from"./app-layout-md0N9P8I.js";import{P as S}from"./page-header-C_7k5sLc.js";import{B as c}from"./button-CpjRaYVo.js";import{I as T}from"./input-B_FIGcdk.js";import{L as i}from"./label-DnZ7SDYy.js";import{T as E}from"./textarea-CIYggA85.js";import{D as g}from"./date-picker-Cs1nytN8.js";import{M as F}from"./multiselect-sUPoWkYM.js";import{I as o}from"./input-error-C6nxwA3J.js";import{f as h}from"./format-Ca1hgyLe.js";/* empty css            */import"./index-CcsY0bVV.js";import"./index-CAOgDV9q.js";import"./users-DLXe7dN4.js";import"./chevron-left-BJIDIYjM.js";import"./chevron-down-JOi0Hr8o.js";import"./popover-QUURE3mk.js";import"./calendar-CvU2iXXj.js";import"./command-BSOzza0P.js";import"./search-CFhtlakL.js";import"./badge-CyCmFY9U.js";import"./check-CoDZEjDS.js";const A=[{title:"Dasbor",href:"/dashboard"},{title:"Penugasan",href:"/assignments"},{title:"Tambah Penugasan",href:"/assignments/create"}];function re({users:x}){const{data:s,setData:t,post:f,processing:l,errors:r,reset:d}=k({purpose:"",destination:"",start_date:"",end_date:"",user_ids:[]}),[j,m]=p.useState(s.start_date?new Date(s.start_date):void 0),[v,u]=p.useState(s.end_date?new Date(s.end_date):void 0),N=a=>{m(a),t("start_date",a?h(a,"yyyy-MM-dd"):"")},b=a=>{u(a),t("end_date",a?h(a,"yyyy-MM-dd"):"")};function y(a){a.preventDefault();const P=new Promise((n,w)=>{f(route("assignments.store"),{onSuccess:()=>{n({name:"Penugasan"}),d()},onError:D=>{w(D?.error||"Penugasan gagal dibuat!")}})});M.promise(P,{loading:"Memproses..",success:n=>`${n.name} berhasil dibuat.`,error:n=>String(n)})}const _=()=>{d(),m(void 0),u(void 0)};return e.jsx(C,{breadcrumbs:A,children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx(S,{title:"Tambah Penugasan",subtitle:"Buat penugasan dinas baru untuk pegawai"}),e.jsx("div",{className:"max-w-lg",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"purpose",children:"Tujuan Penugasan"}),e.jsx(E,{id:"purpose",value:s.purpose,onChange:a=>t("purpose",a.target.value),placeholder:"Jelaskan tujuan dan maksud penugasan dinas",rows:3,required:!0}),e.jsx(o,{message:r.purpose,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"destination",children:"Tujuan (Lokasi/Tempat)"}),e.jsx(T,{id:"destination",value:s.destination,onChange:a=>t("destination",a.target.value),placeholder:"Masukkan tujuan (lokasi/tempat) penugasan",required:!0}),e.jsx(o,{message:r.destination,className:"mt-1"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"start_date",children:"Tanggal Mulai"}),e.jsx(g,{value:j,onChange:N,placeholder:"Pilih tanggal mulai",className:"w-full"}),e.jsx(o,{message:r.start_date,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"end_date",children:"Tanggal Selesai"}),e.jsx(g,{value:v,onChange:b,placeholder:"Pilih tanggal selesai",className:"w-full"}),e.jsx(o,{message:r.end_date,className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"user_ids",children:"Pegawai"}),e.jsx(F,{value:s.user_ids,onChange:a=>t("user_ids",a),options:x,placeholder:"Pilih pegawai...",className:"w-full"}),e.jsx(o,{message:r.user_ids,className:"mt-1"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pilih satu atau lebih pegawai untuk ditugaskan"})]}),e.jsxs("div",{className:"flex flex-col gap-3 pt-4 sm:flex-row",children:[e.jsx(c,{type:"button",variant:"outline",onClick:_,className:"flex-1 bg-transparent sm:flex-none",disabled:l,children:"Reset"}),e.jsx(c,{type:"submit",disabled:l,className:"flex-1 sm:flex-none",children:l?"Memproses...":"Simpan Penugasan"})]})]})})]})})}export{re as default};
