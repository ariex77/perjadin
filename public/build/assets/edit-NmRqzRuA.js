import{u as g,j as e,L as u,t as b}from"./app-D1xV2MNQ.js";import{A as N}from"./app-layout-BMPghDTH.js";import{P as y}from"./page-header-BNu3XJ9v.js";import{C as F,a as P,e as S,c as w,b as C}from"./card-CrpIEXik.js";import{B as d}from"./button-CVReGMi9.js";import{I as p}from"./input-D287an5N.js";import{L as n}from"./label-CBgPpyeX.js";import{S as L,a as D,b as E,c as I,e as c}from"./select-B0NH6Qe4.js";import{F as x}from"./file-upload-Cv7uupdJ.js";import{I as m}from"./input-error-DGzOBowd.js";import{A as T}from"./arrow-left-CHYKIqed.js";import{F as G}from"./users-DMjgkXJI.js";/* empty css            */import"./index-BCddxTNs.js";import"./index-B_9BfV9r.js";import"./index-D_4U4oV9.js";import"./chevron-down-C76aSAqr.js";import"./check-DTKSkBb2.js";import"./input-error-BfdNtx0S.js";import"./upload-Cd7ZAkMs.js";const M=[{title:"Dasbor",href:"/dashboard"},{title:"Laporan Perjalanan",href:"/reports"},{title:"Edit Laporan",href:""}];function re({report:a}){const{data:s,setData:l,put:j,processing:o,errors:t}=g({travel_type:a.travel_type,travel_order_number:a.travel_order_number,actual_duration:a.actual_duration?.toString()||"",travel_order_file:null,spd_file:null});function f(r){r.preventDefault();const h=new Promise((i,_)=>{j(route("reports.update",a.id),{onSuccess:()=>{i({name:"Laporan Perjalanan"})},onError:v=>{_(v?.error||"Laporan perjalanan gagal diperbarui!")}})});b.promise(h,{loading:"Memproses..",success:i=>`${i.name} berhasil diperbarui.`,error:i=>String(i)})}return e.jsx(N,{breadcrumbs:M,children:e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{title:"Edit Laporan Perjalanan",subtitle:"Perbarui laporan perjalanan dinas"}),e.jsx(u,{href:route("reports.show",a.id),children:e.jsxs(d,{variant:"outline",size:"sm",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Kembali"]})})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("form",{onSubmit:f,children:[e.jsxs(F,{children:[e.jsxs(P,{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Informasi Surat Tugas"]}),e.jsx(w,{children:"Informasi dasar surat tugas perjalanan dinas"})]}),e.jsxs(C,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"travel_type",children:"Jenis Perjalanan"}),e.jsxs(L,{value:s.travel_type,onValueChange:r=>l("travel_type",r),children:[e.jsx(D,{children:e.jsx(E,{placeholder:"Pilih jenis perjalanan"})}),e.jsxs(I,{children:[e.jsx(c,{value:"in_city",children:"Dalam Kota"}),e.jsx(c,{value:"out_city",children:"Luar Kota"}),e.jsx(c,{value:"out_country",children:"Luar Negeri"})]})]}),e.jsx(m,{message:t.travel_type,className:"mt-1"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"space-y-2 w-full md:w-3/4",children:[e.jsx(n,{htmlFor:"travel_order_number",children:"Nomor Surat Tugas"}),e.jsx(p,{id:"travel_order_number",value:s.travel_order_number,onChange:r=>l("travel_order_number",r.target.value),placeholder:"Contoh: ST-001/01/2024",required:!0}),e.jsx(m,{message:t.travel_order_number,className:"mt-1"})]}),e.jsxs("div",{className:"space-y-2 w-full md:w-1/4",children:[e.jsx(n,{htmlFor:"actual_duration",children:"Durasi Asli Perjalanan"}),e.jsx(p,{id:"actual_duration",type:"number",min:1,value:s.actual_duration,onChange:r=>l("actual_duration",r.target.value),placeholder:"Durasi asli perjalanan",required:!0}),e.jsx(m,{message:t.actual_duration,className:"mt-1"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"travel_order_file",children:"File Surat Tugas"}),e.jsx(x,{value:s.travel_order_file,onChange:r=>l("travel_order_file",r),accept:".pdf,.jpg,.jpeg,.png",maxSize:2,error:t.travel_order_file,existingFile:a.travel_order_file}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Format: PDF, JPG, JPEG, PNG (Maks. 2MB)",a.travel_order_file&&e.jsxs("span",{className:"block text-green-600",children:["File saat ini: ",a.travel_order_file]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"spd_file",children:"File SPD"}),e.jsx(x,{value:s.spd_file,onChange:r=>l("spd_file",r),accept:".pdf,.jpg,.jpeg,.png",maxSize:2,error:t.spd_file,existingFile:a.spd_file}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Format: PDF, JPG, JPEG, PNG (Maks. 2MB)",a.spd_file&&e.jsxs("span",{className:"block text-green-600",children:["File saat ini: ",a.spd_file]})]})]})]})]})]}),e.jsxs("div",{className:"flex max-w-3xl flex-col gap-3 pt-4 sm:flex-row",children:[e.jsx(u,{href:route("reports.show",a.id),className:"flex-1 sm:flex-none",children:e.jsx(d,{type:"button",variant:"outline",className:"w-full bg-transparent",disabled:o,children:"Batal"})}),e.jsx(d,{type:"submit",disabled:o,className:"flex-1 sm:flex-none",children:o?"Memproses...":"Perbarui Laporan"})]})]})})]})})}export{re as default};
